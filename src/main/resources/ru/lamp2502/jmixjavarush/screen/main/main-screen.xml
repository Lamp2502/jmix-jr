<window xmlns="http://jmix.io/schema/ui/window"
        caption="msg://application.caption">
    <data>
        <instance id="userDc"
                  class="ru.lamp2502.jmixjavarush.entity.User">
            <fetchPlan extends="_base"/>
            <loader/>
        </instance>
    </data>
    <actions>
        <action id="windowCommitAndClose"
                caption="msg:///actions.Ok"
                icon="EDITOR_OK"
                primary="true"
                shortcut="${COMMIT_SHORTCUT}"/>
        <action id="windowClose"
                caption="msg:///actions.Close"
                icon="EDITOR_CANCEL"/>
    </actions>
    <facets>
        <dataLoadCoordinator auto="true"/>
    </facets>
    <dialogMode height="600"
                width="800"/>

    <layout>
        <cssLayout id="headerFrame1"
                   stylename="header-frame-1"
                   width="100%" align="TOP_RIGHT">
            <hbox width="100%" height="100%" align="MIDDLE_RIGHT">
                <label value="АО “Выксунский металлургический завод”"
                       stylename="header-text"
                       align="MIDDLE_LEFT"/>

                <cssLayout id="avatar" stylename="header-avatar"
                           align="MIDDLE_RIGHT">
                    <image id="fileRefImage"
                           stylename="header-avatar"
                           css="width: 56px; height: 56px;"
                           scaleMode="SCALE_DOWN"
                           alternateText="фото не установлено"
                           align="MIDDLE_RIGHT"
                    >
                        <resource>
                            <theme path="branding/photo-person.png"/>
                        </resource>
                    </image>
                </cssLayout>
            </hbox>
        </cssLayout>

        <cssLayout id="horizontalWrap"
                   stylename="side-meny">

            <cssLayout id="appTitleBox"
                       width="100%">
                <image id="logoImage"
                       stylename="app-icon"
                       scaleMode="SCALE_DOWN">
                    <resource>
                        <theme path="branding/logo.svg"/>
                    </resource>
                </image>
            </cssLayout>
            <cssLayout id="controlBox">
                <vbox id="boxOfButtons" spacing="true">
                    <linkButton id="contracts"
                                stylename="side-meny-contract-button"
                                icon="branding/contracts.svg"
                                caption="Договоры"/>
                    <linkButton id="documents"
                                stylename="side-meny-contract-button"
                                icon="branding/documents.svg"
                                caption="Документы"/>
                    <linkButton id="tasks"
                                stylename="side-meny-contract-button"
                                icon="branding/tasks.svg"
                                caption="Задачи"/>
                    <linkButton id="reports"
                                stylename="side-meny-contract-button"
                                icon="branding/reports.svg"
                                caption="Отчёты"/>
                    <logoutButton id="logoutButton"
                                  stylename="side-meny-contract-button"
                                  icon="SIGN_OUT"
                                  caption="Выход"
                                  description="msg://logoutBtnDescription"/>
                    <userIndicator id="userIndicator"
                                   align="MIDDLE_CENTER"/>
                </vbox>
            </cssLayout>

            <workArea id="workArea"
                      stylename="work-area"
                      width="100%" height="1600">
                <initialLayout spacing="true" margin="true"
                               stylename="work-area">
                    <form id="form" dataContainer="userDc">
                        <column width="350px">
                            <textField id="usernameField" property="username" editable="false"/>
                            <passwordField id="passwordField"
                                           caption="msg://ru.lamp2502.jmixjavarush.entity/User.password"
                                           required="true"
                                           visible="false"/>
                            <passwordField id="confirmPasswordField"
                                           caption="msg://confirmPassword"
                                           required="true"
                                           visible="false"/>
                            <textField id="firstNameField" property="firstName"/>
                            <textField id="lastNameField" property="lastName"/>
                            <textField id="emailField" property="email"/>

                        </column>
                    </form>
                    <hbox id="editActions" spacing="true">
                        <button id="commitAndCloseBtn" action="windowCommitAndClose"/>
                        <button id="closeBtn" action="windowClose"/>
                    </hbox>
                </initialLayout>
            </workArea>
        </cssLayout>
    </layout>
</window>